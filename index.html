<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ðŸ“Œ Stylish Reminders with Month Navigation</title>
  <style>
    /* Reset and base */
    * {
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #e0e7ff, #f9fafc);
      margin: 0;
      padding: 30px 15px;
      color: #2c3e50;
      display: flex;
      justify-content: center;
      min-height: 100vh;
      align-items: flex-start;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      transition: background-color 0.4s ease;
    }

    .container {
      background: #fff;
      width: 100%;
      max-width: 720px;
      border-radius: 20px;
      box-shadow: 0 16px 40px rgba(67, 84, 165, 0.2);
      padding: 50px 55px 70px;
      display: flex;
      flex-direction: column;
      gap: 38px;
      user-select: none;
    }

    h1 {
      font-weight: 900;
      font-size: 3.2rem;
      color: #34495e;
      margin: 0;
      text-align: center;
      letter-spacing: 2px;
      text-shadow: 0 2px 6px rgba(52, 73, 94, 0.15);
    }

    /* Input group */
    .input-group {
      display: flex;
      gap: 24px;
      flex-wrap: wrap;
      justify-content: center;
    }

    input[type="text"],
    input[type="date"],
    select {
      flex: 1 1 220px;
      padding: 16px 22px;
      border-radius: 18px;
      border: 2.5px solid #d1d9ff;
      font-size: 1.1rem;
      font-weight: 500;
      color: #34495e;
      background: #f7f9ff;
      box-shadow: inset 0 6px 12px rgba(161, 176, 255, 0.2);
      transition: border-color 0.35s ease, box-shadow 0.35s ease;
      outline-offset: 3px;
      outline-color: #5661ff;
      cursor: text;
    }
    input[type="text"]:focus,
    input[type="date"]:focus,
    select:focus {
      border-color: #5661ff;
      box-shadow: 0 0 12px rgba(86, 97, 255, 0.6);
      background: #eef2ff;
    }

    button {
      padding: 16px 38px;
      font-size: 1.15rem;
      background: linear-gradient(145deg, #5661ff, #3e50cc);
      color: white;
      border: none;
      border-radius: 22px;
      cursor: pointer;
      font-weight: 700;
      box-shadow: 0 12px 22px rgba(86, 97, 255, 0.4);
      transition: background 0.4s ease, transform 0.3s ease, box-shadow 0.4s ease;
      user-select: none;
      flex-shrink: 0;
      align-self: center;
    }
    button:hover {
      background: linear-gradient(145deg, #4151d7, #2e37aa);
      box-shadow: 0 16px 32px rgba(65, 81, 215, 0.6);
      transform: translateY(-3px);
    }
    button:active {
      transform: translateY(1px);
      box-shadow: 0 8px 18px rgba(65, 81, 215, 0.5);
    }

    /* Reminders list */
    ul {
      list-style: none;
      padding: 0;
      margin: 0;
      max-height: 320px;
      overflow-y: auto;
      border-radius: 18px;
      box-shadow: inset 0 0 20px rgb(86 97 255 / 0.12);
      background: #f4f7ff;
      user-select: text;
    }

    li {
      background: #fff;
      border-left: 8px solid #5661ff;
      padding: 20px 24px;
      margin: 14px 20px;
      border-radius: 18px;
      box-shadow: 0 6px 14px rgba(86, 97, 255, 0.15);
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 600;
      font-size: 1.1rem;
      color: #2a3a58;
      transition: box-shadow 0.3s ease, transform 0.35s ease;
    }
    li:hover {
      box-shadow: 0 14px 28px rgba(86, 97, 255, 0.3);
      transform: translateY(-3px);
    }

    .details {
      max-width: 80%;
      user-select: text;
    }

    .details strong {
      font-weight: 800;
      font-size: 1.25rem;
      color: #33415c;
      display: block;
      margin-bottom: 8px;
      letter-spacing: 0.04em;
    }

    .details .meta {
      font-size: 0.9rem;
      color: #6c7a96;
      font-style: italic;
      user-select: text;
    }

    .delete-btn {
      background-color: #ff4c61;
      border: none;
      padding: 12px 20px;
      border-radius: 18px;
      color: white;
      cursor: pointer;
      font-weight: 700;
      font-size: 1rem;
      transition: background-color 0.4s ease;
      user-select: none;
      flex-shrink: 0;
      box-shadow: 0 8px 14px rgba(255, 76, 97, 0.45);
    }
    .delete-btn:hover {
      background-color: #d73a4a;
      box-shadow: 0 10px 24px rgba(215, 58, 74, 0.6);
    }

    /* Calendar */
    .calendar {
      margin-top: 26px;
      border-radius: 22px;
      box-shadow: 0 14px 44px rgba(67, 84, 165, 0.22);
      background: #fff;
      padding: 34px 40px 40px;
      user-select: none;
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 28px;
      user-select: none;
    }

    .calendar-header button {
      background: #5661ff;
      border: none;
      padding: 10px 16px;
      border-radius: 16px;
      color: white;
      font-weight: 700;
      font-size: 1.15rem;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(86, 97, 255, 0.4);
      transition: background 0.3s ease;
    }
    .calendar-header button:hover {
      background: #4151d7;
    }

    .calendar-header h2 {
      font-size: 2.1rem;
      font-weight: 900;
      margin: 0;
      color: #34495e;
      letter-spacing: 1.2px;
      user-select: text;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 14px;
      font-size: 1rem;
    }

    .day {
      background: #f7faff;
      border-radius: 18px;
      padding: 14px 12px 12px;
      min-height: 110px;
      position: relative;
      color: #4b6584;
      box-shadow: 0 3px 9px rgba(86, 97, 255, 0.07);
      transition: background-color 0.35s ease, box-shadow 0.35s ease;
      cursor: default;
      overflow-wrap: break-word;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
    }
    .day:hover {
      background: #e0e7ff;
      box-shadow: 0 8px 20px rgba(86, 97, 255, 0.25);
      color: #283e78;
    }

    .day.today {
      border: 3px solid #5661ff;
      background: #d9e2ff;
      box-shadow: 0 12px 28px rgba(86, 97, 255, 0.4);
    }

    .day .label {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 10px;
      color: #5661ff;
      user-select: text;
      letter-spacing: 0.02em;
    }

    .reminder-name {
      font-size: 12.5px;
      color: #5661ff;
      margin-top: 6px;
      line-height: 1.3;
      flex-grow: 0;
      user-select: text;
      font-weight: 600;
      text-shadow: 0 1px 2px rgba(86, 97, 255, 0.15);
    }

    /* Scrollbar styling for reminders list */
    ul::-webkit-scrollbar {
      width: 10px;
    }
    ul::-webkit-scrollbar-thumb {
      background: #5661ff;
      border-radius: 20px;
    }
    ul::-webkit-scrollbar-track {
      background: #e4e8ff;
    }

    /* Animations */
    @keyframes bounceIn {
      0% {
        opacity: 0;
        transform: translateY(-24px) scale(0.9);
      }
      60% {
        opacity: 1;
        transform: translateY(8px) scale(1.05);
      }
      100% {
        transform: translateY(0) scale(1);
      }
    }

    li.newly-added {
      animation: bounceIn 0.6s ease forwards;
    }

    /* Responsive */
    @media (max-width: 640px) {
      .container {
        padding: 35px 25px 50px;
      }
      .input-group {
        flex-direction: column;
        gap: 18px;
      }
      input[type="text"],
      input[type="date"],
      select,
      button {
        width: 100%;
        flex: none;
      }
      ul {
        max-height: 240px;
      }
      .calendar-grid {
        gap: 10px;
      }
      .day {
        min-height: 85px;
        padding: 12px 10px 10px;
      }
    }
  </style>
</head>
<body>
  <div class="container" role="main" aria-label="Reminder Application">
    <h1>ðŸ“Œ Reminders</h1>

    <form class="input-group" onsubmit="event.preventDefault(); addReminder();">
      <input
        type="text"
        id="reminderInput"
        placeholder="What do you want to remember?"
        aria-label="Reminder text"
        required
      />
      <input
        type="date"
        id="startDate"
        aria-label="Start date"
        required
      />
      <select id="repeatInterval" aria-label="Repeat interval">
        <option value="0">No repeat</option>
        <option value="7">Weekly</option>
        <option value="30">Monthly</option>
        <option value="90">Every 3 months</option>
        <option value="180">Every 6 months</option>
        <option value="365">Yearly</option>
      </select>
      <button type="submit" aria-label="Add reminder">Add Reminder</button>
    </form>

    <ul id="remindersList" aria-live="polite" aria-relevant="additions removals"></ul>

    <section class="calendar" aria-label="Reminders calendar">
      <div class="calendar-header">
        <button id="prevMonthBtn" aria-label="Previous month">&lt;</button>
        <h2 id="calendarMonthYear" aria-live="polite" aria-atomic="true">Month Year</h2>
        <button id="nextMonthBtn" aria-label="Next month">&gt;</button>
      </div>
      <div class="calendar-grid" role="grid" aria-readonly="true" id="calendarGrid">
        <!-- Calendar days injected here -->
      </div>
    </section>
  </div>

  <script>
    const remindersList = document.getElementById('remindersList');
    const reminderInput = document.getElementById('reminderInput');
    const startDate = document.getElementById('startDate');
    const repeatInterval = document.getElementById('repeatInterval');
    const calendarGrid = document.getElementById('calendarGrid');
    const calendarMonthYear = document.getElementById('calendarMonthYear');
    const prevMonthBtn = document.getElementById('prevMonthBtn');
    const nextMonthBtn = document.getElementById('nextMonthBtn');

    // Store reminders as array of objects {id, text, date, repeat}
    let reminders = JSON.parse(localStorage.getItem('reminders')) || [];

    // Current month/year state for calendar
    let currentDate = new Date();
    currentDate.setDate(1); // first day of current month

    // Helper: format date as yyyy-mm-dd
    function formatDate(d) {
      return d.toISOString().split('T')[0];
    }

    // Save reminders to localStorage
    function saveReminders() {
      localStorage.setItem('reminders', JSON.stringify(reminders));
    }

    // Add a reminder
    function addReminder() {
      const text = reminderInput.value.trim();
      if (!text) return alert('Please enter a reminder text.');

      const dateValue = startDate.value;
      if (!dateValue) return alert('Please select a start date.');

      const date = new Date(dateValue);
      if (isNaN(date.getTime())) return alert('Invalid date.');

      const repeatDays = Number(repeatInterval.value);

      const id = Date.now().toString();

      reminders.push({ id, text, date: dateValue, repeat: repeatDays });
      saveReminders();

      reminderInput.value = '';
      initDateInput(); // reset to today
      repeatInterval.value = '0';

      displayReminders();
      renderCalendar(currentDate);
    }

    // Remove a reminder by id
    function removeReminder(id) {
      reminders = reminders.filter(r => r.id !== id);
      saveReminders();
      displayReminders();
      renderCalendar(currentDate);
    }

    // Display reminders in the list
    function displayReminders() {
      remindersList.innerHTML = '';
      if (reminders.length === 0) {
        const emptyMsg = document.createElement('li');
        emptyMsg.textContent = 'No reminders yet.';
        emptyMsg.style.fontStyle = 'italic';
        emptyMsg.style.color = '#667788';
        emptyMsg.style.textAlign = 'center';
        remindersList.appendChild(emptyMsg);
        return;
      }

      reminders.forEach(r => {
        const li = document.createElement('li');
        li.className = 'newly-added';
        const detailsDiv = document.createElement('div');
        detailsDiv.className = 'details';

        const strong = document.createElement('strong');
        strong.textContent = r.text;
        detailsDiv.appendChild(strong);

        const meta = document.createElement('div');
        meta.className = 'meta';
        meta.textContent = `Starts: ${r.date} | Repeats every: ${
          r.repeat === 0 ? 'No repeat' : r.repeat + ' days'
        }`;
        detailsDiv.appendChild(meta);

        li.appendChild(detailsDiv);

        const delBtn = document.createElement('button');
        delBtn.textContent = 'Delete';
        delBtn.className = 'delete-btn';
        delBtn.setAttribute('aria-label', `Delete reminder: ${r.text}`);
        delBtn.onclick = () => removeReminder(r.id);
        li.appendChild(delBtn);

        remindersList.appendChild(li);

        // Remove animation class after animation ends
        li.addEventListener('animationend', () => {
          li.classList.remove('newly-added');
        });
      });
    }

    // Render calendar for a given Date (month)
    function renderCalendar(date) {
      calendarGrid.innerHTML = '';

      const year = date.getFullYear();
      const month = date.getMonth();

      // Display month and year in header
      const monthNames = [
        'January', 'February', 'March', 'April', 'May', 'June',
        'July', 'August', 'September', 'October', 'November', 'December'
      ];
      calendarMonthYear.textContent = `${monthNames[month]} ${year}`;

      // First day of month index (0 = Sunday, 1 = Monday, ...)
      const firstDayIndex = new Date(year, month, 1).getDay();

      // Number of days in month
      const daysInMonth = new Date(year, month + 1, 0).getDate();

      // Number of days in previous month (for leading blanks if needed)
      // const daysInPrevMonth = new Date(year, month, 0).getDate();

      // Create blanks for days before 1st
      for (let i = 0; i < firstDayIndex; i++) {
        const blankCell = document.createElement('div');
        blankCell.className = 'day blank';
        calendarGrid.appendChild(blankCell);
      }

      // Prepare a map of reminders keyed by day string yyyy-mm-dd
      const remindersMap = {};

      // Prepare reminders including repeats that fall into this month
      reminders.forEach(reminder => {
        const start = new Date(reminder.date);
        const repeatDays = reminder.repeat;

        // If no repeat, just add if in this month
        if (repeatDays === 0) {
          if (start.getFullYear() === year && start.getMonth() === month) {
            const key = formatDate(start);
            if (!remindersMap[key]) remindersMap[key] = [];
            remindersMap[key].push(reminder.text);
          }
        } else {
          // For repeats, find occurrences in this month
          // We'll find the first occurrence on or after the first day of the month
          const monthStart = new Date(year, month, 1);
          const monthEnd = new Date(year, month, daysInMonth, 23, 59, 59);

          let occurrenceDate = new Date(start);

          // Move forward to monthStart or after
          while (occurrenceDate < monthStart) {
            occurrenceDate = new Date(occurrenceDate.getTime() + repeatDays * 24 * 60 * 60 * 1000);
          }

          // Collect occurrences within this month
          while (occurrenceDate <= monthEnd) {
            const key = formatDate(occurrenceDate);
            if (!remindersMap[key]) remindersMap[key] = [];
            remindersMap[key].push(reminder.text);
            occurrenceDate = new Date(occurrenceDate.getTime() + repeatDays * 24 * 60 * 60 * 1000);
          }
        }
      });

      // Create day cells
      for (let day = 1; day <= daysInMonth; day++) {
        const cell = document.createElement('div');
        cell.className = 'day';

        // Label with day number
        const label = document.createElement('div');
        label.className = 'label';
        label.textContent = day;
        cell.appendChild(label);

        // Highlight today if matches
        const today = new Date();
        if (
          day === today.getDate() &&
          month === today.getMonth() &&
          year === today.getFullYear()
        ) {
          cell.classList.add('today');
        }

        // Add reminders for this day
        const dayStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
        if (remindersMap[dayStr]) {
          remindersMap[dayStr].forEach(reminderText => {
            const remEl = document.createElement('div');
            remEl.className = 'reminder-name';
            remEl.textContent = reminderText;
            cell.appendChild(remEl);
          });
        }

        calendarGrid.appendChild(cell);
      }
    }

    // Initialize start date input with today
    function initDateInput() {
      const today = new Date().toISOString().split('T')[0];
      startDate.setAttribute('min', today);
      startDate.value = today;
    }

    // Month navigation handlers
    prevMonthBtn.addEventListener('click', () => {
      currentDate.setMonth(currentDate.getMonth() - 1);
      renderCalendar(currentDate);
    });

    nextMonthBtn.addEventListener('click', () => {
      currentDate.setMonth(currentDate.getMonth() + 1);
      renderCalendar(currentDate);
    });

    // On page load
    window.onload = () => {
      initDateInput();
      displayReminders();
      renderCalendar(currentDate);
    };
  </script>
</body>
</html>
